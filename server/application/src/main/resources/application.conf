ktor {
    development = false
    development = ${?DEBUG}
    deployment {
        port = 8888
        port = ${?PORT}
        watch = [
         "anystream-server/server-app/build/classes",
         "anystream-server/server-app/build/resources",
         "anystream-server/server-db-models/build/classes",
         "anystream-server/server-db-models/build/resources",
         "anystream-server/server-library-manager/build/classes",
         "anystream-server/server-library-manager/build/resources",
         "anystream-server/server-metadata-manager/build/classes",
         "anystream-server/server-metadata-manager/build/resources",
         "anystream-server/server-shared/build/classes",
         "anystream-server/server-shared/build/resources",
         "anystream-server/server-stream-service/build/classes",
         "anystream-server/server-stream-service/build/resources"
        ]
    }
    application {
        modules = [
          anystream.modules.StatusPageModuleKt.module
          anystream.ApplicationKt.module
        ]
    }
}

app {
    baseUrl = "localhost:8888"
    baseUrl = ${?BASE_URL}
    disableWebClient = false
    webClientPath = ""
    webClientPath = ${?WEB_CLIENT_PATH}
    ffmpegPath = ""
    ffmpegPath = ${?FFMPEG_PATH}
    transcodePath = "/tmp"
    dataPath = ""
    dataPath = ${?DATA_PATH}
    tmdbApiKey = "c1e9e8ade306dd9cbc5e17b05ed4badd"
    databaseUrl = ""
    databaseUrl = ${?DATABASE_URL}
    qbittorrent {
      url = "http://localhost:9090"
      url = ${?QBT_URL}
      user = "admin"
      user = ${?QBT_USER}
      password = "adminadmin"
      password = ${?QBT_PASSWORD}
    }
    oidc {
      enable = false
      provider {
        name = "provider"
        authorize_url = "https://example.com/api/oidc/authorization"
        access_token_url = "https://example.com/api/oidc/token"
        user_info_url = "https://example.com/api/oidc/userinfo"
        client_id = ""
        client_secret = ""
        admin_group = "anystream-admin"
        viewer_group = "anystream"
        username_fields = ["preferred_username", "name"]
        groups_field = "groups"
        scopes = ["openid", "profile", "email", "groups"]
      }
    }
}
